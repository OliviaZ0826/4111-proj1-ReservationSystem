<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hospital Management System - Doctor Dashboard</title>
</head>
<body>
    <a href="/">Home</a>
    <h1>Doctor Dashboard</h1>

    <p>Welcome, Dr. {{ doctor_info[3] }}!</p>

    <div>
        <h2>Profile</h2>
        <p>Name: {{ doctor_info[3] }}</p>
        <p>Specialty: {{ doctor_info[4] }}</p>
        <p>Doctor ID: {{ doctor_info[0] }}</p>
        <p>User ID: {{ doctor_info[1] }}</p>
        <p>Email: {{ doctor_info[5] }}</p> 
    </div>

    <div>
        <h2>Appointment</h2>
        {% if app_info %}
            <table>
                <tr>
                    <th>Patient Name</th>
                    <th>Patient Email</th>
                    <th>Patient Insurance</th>
                    <th>Time</th>
                    <th>Status</th>
                </tr>
                {% for app in app_info %}
                    <tr>
                        <td>{{ app[0] }}</td>
                        <td>{{ app[1] }}</td>
                        <td>{{ app[2] }}</td>
                        <td>{{ app[3] }}</td>
                        <td>{{ app[4] }}</td>
                    </tr>
                {% endfor %}
            </table>
            
        {% else %}
            <p>No Appointment information available.</p>
        {% endif %}
    </div>

    <!-- Button to view patient information -->
    <button type="button" onclick="viewPatientInfo()">View Patient Information</button>

    <!-- Editable payment and due time for the specific patient -->
    <label for="payment_amount">Payment Amount:</label>
    <input type="text" id="payment_amount" name="payment_amount" value="{{ selected_patient_payment.Amount }}" readonly>
    
    <label for="due_date">Due Date:</label>
    <input type="text" id="due_date" name="due_date" value="{{ selected_patient_payment.due }}" readonly>

    <label for="edit_payment_amount">Edit Payment Amount:</label>
    <input type="text" id="edit_payment_amount" name="edit_payment_amount">

    <label for="edit_due_date">Edit Due Date:</label>
    <input type="date" id="edit_due_date" name="edit_due_date">

    <button type="button" onclick="editPayment()">Edit Payment</button>

    <script>
        function viewPatientInfo() {
            // Add logic to fetch and display patient information based on the selected appointment
            alert('Patient information displayed successfully!');
        }

        function editPayment() {
            // Add logic to edit payment details for the specific patient
            alert('Payment details edited successfully!');
        }
    </script>

    <a href="/login_doctor">Logout</a>
</body>
</html>
